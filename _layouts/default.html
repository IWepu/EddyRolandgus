<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ page.title }}</title>
    <style>
        /* CSS GAYA VISUAL ABSURD (Sama seperti sebelumnya) */
        :root { --bg-color: #0a0a0a; --text-color: #39ff14; --glitch-color: #ff00ff; }
        body { background-color: var(--bg-color); color: var(--text-color); font-family: 'Courier New', monospace; margin: 0; padding: 20px; height: 100vh; overflow: hidden; display: flex; flex-direction: column; }
        body::after { content: " "; display: block; position: absolute; top: 0; left: 0; bottom: 0; right: 0; background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06)); z-index: 2; background-size: 100% 2px, 3px 100%; pointer-events: none; }
        #screen-container { border: 2px solid var(--text-color); padding: 20px; flex-grow: 1; overflow-y: auto; position: relative; box-shadow: 0 0 20px var(--text-color); animation: flicker 0.15s infinite; }
        h1 { text-transform: uppercase; letter-spacing: 2px; margin-bottom: 5px; }
        .subtitle { font-size: 0.8rem; opacity: 0.7; margin-bottom: 30px; }
        #output-log p { margin: 5px 0; line-height: 1.4; }
        .system-msg { color: #ffff00; }
        .error-msg { color: #ff3333; font-weight: bold;}
        .hidden-clue { cursor: pointer; border-bottom: 1px dotted var(--text-color); }
        .hidden-clue:hover { background-color: var(--text-color); color: var(--bg-color); }
        #input-area { display: flex; margin-top: 20px; border-top: 1px dashed var(--text-color); padding-top: 10px; }
        #prompt { margin-right: 10px; }
        #command-input { flex-grow: 1; background: transparent; border: none; color: var(--text-color); font-family: inherit; font-size: 1.1rem; outline: none; }
        @keyframes flicker { 0% { opacity: 0.9; } 50% { opacity: 1; } 100% { opacity: 0.95; } }
        .glitch-text { position: relative; animation: glitch-skew 1s infinite linear alternate-reverse; }
        @keyframes glitch-skew { 0% { transform: skew(1deg); } 20% { transform: skew(-1deg); } 40% { transform: skew(2deg); } 60% { transform: skew(-2deg); } 80% { transform: skew(3deg); } 100% { transform: skew(-2deg); } }
    </style>
</head>
<body>

<div id="screen-container">
    {{ content }}
    
    <div id="output-log"></div>

    <div id="input-area">
        <span id="prompt">GHOST_USER@TL-UNUD:~$</span>
        <input type="text" id="command-input" placeholder="..." autofocus>
    </div>
</div>

<script>
    // SCRIPT INTERAKTIF (Sama seperti sebelumnya)
    const outputLog = document.getElementById('output-log');
    const commandInput = document.getElementById('command-input');
    
    // --- DATABASE JAWABAN ---
    const responses = {
        "siapa": "Subjek tidak terdaftar di SIAKAD. Tapi namanya ada di metadata setiap file skripsi angkatan tua.",
        "eddy": "ERROR 404: Apakah maksud Anda <span class='hidden-clue' onclick='revealEddy()'>[REDACTED_ENTITY]</span>?",
        "eddyrolangus": "AKSES TERLARANG. Dia adalah anomali statistik di Teknik Lingkungan. Dia yang menghitung Mass Balance tanpa rumus.",
        "referensi": "14,500 sitasi ditemukan. Semua mengarah ke ruang hampa.",
        "help": "Tidak ada bantuan. Anda sendirian di server ini.",
        "ghost": "Dia bukan hantu. Dia adalah bug di sistem realitas kampus.",
    };

    function typeWriter(text, elementClass = '') {
        const p = document.createElement('p');
        if (elementClass) p.classList.add(elementClass);
        outputLog.appendChild(p);
        let i = 0; const speed = 30;
        function typing() {
            if (i < text.length) {
                if (text.substring(i).startsWith('<span')) {
                    let spanEnd = text.indexOf('</span>', i) + 7;
                    p.innerHTML += text.substring(i, spanEnd); i = spanEnd;
                } else { p.innerHTML += text.charAt(i); i++; }
                outputLog.scrollTop = outputLog.scrollHeight;
                setTimeout(typing, speed);
            }
        }
        typing();
    }

    commandInput.addEventListener('keypress', function (e) {
        if (e.key === 'Enter') {
            const command = commandInput.value.toLowerCase().trim();
            typeWriter(`> ${commandInput.value}`, 'system-msg');
            commandInput.value = '';
            setTimeout(() => {
                 if (responses[command]) { typeWriter(responses[command]); } 
                 else if (command === "") { typeWriter("...", "error-msg"); }
                 else { typeWriter("Perintah tidak dikenal. Jangan membuat dia marah.", "error-msg"); }
            }, 500);
        }
    });

    window.onload = function() {
        // Pesan pembuka dipindah ke script agar tetap muncul setelah load
        setTimeout(() => { typeWriter("BOOT SEQUENCE INITIATED...", "system-msg"); }, 500);
        setTimeout(() => { typeWriter("CONNECTION ESTABLISHED.", "system-msg"); }, 1500);
    }

    function revealEddy() {
        outputLog.innerHTML = "";
        document.body.style.backgroundColor = "#fff";
        setTimeout(() => {
             document.body.style.backgroundColor = "var(--bg-color)";
             typeWriter("SYSTEM FAILURE.", "error-msg");
             typeWriter("E D D Y R O L A N G U S", "glitch-text");
             typeWriter("Dia melihat Anda dari balik layar.");
        }, 200);
    }
    
    document.getElementById('screen-container').addEventListener('click', () => { commandInput.focus(); });
</script>
</body>
</html>
